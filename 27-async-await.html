<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>

</body>
<script>
    const obj1 = new Promise((resolve, reject) => {  //constructor init method
        setTimeout(() => {
            let roll_no = [1, 2, 3, 4, 5];
            resolve(roll_no);          //resolve(value) call on fulfilled.resolve can be accesed through then with roll_no=rollno parameters are same
            // reject("roll no not found");  //reject can be accesed through catch
        }, 2000);
    });

    const getbiodata = (indexdata) => {   //all indexdata are same
        return new Promise((resolve, reject) => {    //promise as a object method
            setTimeout((indexdata) => {
                let biodata = {
                    name: 'Anshul',
                    age: 20
                }
                resolve(`My roll no is ${indexdata}.My name is ${biodata.name} and I am ${biodata.age} years old`)
            }, 2000, indexdata);
        })
    }


    //ASYNC/AWAIT IS USED TO MAKE PROMISE CONSUMING EASIER.
    // async is written before function which means that function will now return a promise.async and await work together
    async function getdata() {
        try {                       //try is error handling..if everything goes good then run
            const rollnodata = await obj1;
            console.log(rollnodata);

            const biodatas = await getbiodata(rollnodata[2]);
            console.log(biodatas);

            //   return biodatas;  //It returns a pending promise
        } catch (error) {            //otherwise catch
            console.log(`Error is ${error}`);
        }
    }


    // const getname=getdata();
    // console.log(getname);

    

</script>

</html>